<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Settings Menu Animation Visual Test</title>
    <style>
        :root {
            --bg-card: #1a1a1a;
            --border-primary: #333;
            --border-secondary: #444;
            --text-primary: #ffffff;
            --text-secondary: #999;
            --accent-primary: #00ff88;
            --accent-secondary: #00cc6a;
            --bg-hover: rgba(255, 255, 255, 0.05);
            --shadow-primary: 0 4px 12px rgba(0, 0, 0, 0.3);
        }

        [data-theme="light"] {
            --bg-card: #ffffff;
            --border-primary: #e0e0e0;
            --border-secondary: #f0f0f0;
            --text-primary: #1a1a1a;
            --text-secondary: #666;
            --accent-primary: #667eea;
            --accent-secondary: #5568d3;
            --bg-hover: rgba(0, 0, 0, 0.05);
            --shadow-primary: 0 4px 12px rgba(0, 0, 0, 0.1);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            background-color: var(--bg-card);
            color: var(--text-primary);
            padding: 40px;
            transition: all 0.3s ease;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
        }

        h1 {
            margin-bottom: 30px;
            color: var(--accent-primary);
        }

        .controls {
            margin-bottom: 30px;
            padding: 20px;
            background: var(--bg-hover);
            border-radius: 8px;
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
        }

        button {
            padding: 10px 20px;
            background: var(--accent-primary);
            color: white;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 500;
            transition: all 0.2s ease;
        }

        button:hover {
            background: var(--accent-secondary);
            transform: translateY(-1px);
        }

        button:active {
            transform: translateY(0);
        }

        .test-section {
            margin-bottom: 40px;
            padding: 30px;
            background: var(--bg-hover);
            border-radius: 12px;
            border: 1px solid var(--border-primary);
        }

        .test-section h2 {
            margin-bottom: 20px;
            color: var(--text-primary);
        }

        /* Menu Animation Test */
        .menu-container {
            position: relative;
            display: inline-block;
        }

        .settings-menu {
            position: absolute;
            top: calc(100% + 8px);
            right: 0;
            width: 320px;
            background-color: var(--bg-card);
            border: 1px solid var(--border-primary);
            border-radius: 8px;
            box-shadow: var(--shadow-primary);
            z-index: 1000;
            animation: slideDownFadeIn 0.3s ease-out;
            overflow: hidden;
            display: none;
        }

        .settings-menu.show {
            display: block;
        }

        @keyframes slideDownFadeIn {
            from {
                opacity: 0;
                transform: translateY(-10px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .settings-menu-header {
            padding: 16px;
            border-bottom: 1px solid var(--border-secondary);
        }

        .settings-menu-header h3 {
            font-size: 18px;
            font-weight: 600;
        }

        .settings-menu-content {
            padding: 8px 0;
        }

        /* Menu Item Hover Test */
        .settings-menu-item {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 12px 16px;
            cursor: pointer;
            transition: all 0.2s ease;
            border-radius: 8px;
            margin: 0 8px;
        }

        .settings-menu-item:hover {
            background: rgba(0, 255, 136, 0.1);
            transform: scale(1.02);
        }

        [data-theme="light"] .settings-menu-item:hover {
            background: rgba(102, 126, 234, 0.1);
        }

        .settings-menu-item-icon {
            width: 20px;
            height: 20px;
            color: var(--accent-primary);
        }

        /* Success Message Test */
        .success-message {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 12px;
            border-radius: 6px;
            margin-bottom: 16px;
            font-size: 14px;
            background-color: rgba(34, 197, 94, 0.1);
            color: #22c55e;
            border: 1px solid rgba(34, 197, 94, 0.3);
            animation: fadeInSlideUp 0.3s ease-out;
            display: none;
        }

        .success-message.show {
            display: flex;
        }

        @keyframes fadeInSlideUp {
            from {
                opacity: 0;
                transform: translateY(10px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* Validation Error Shake Test */
        .validation-feedback {
            display: flex;
            align-items: center;
            gap: 6px;
            font-size: 13px;
            min-height: 20px;
            color: #ef4444;
        }

        .validation-feedback.shake {
            animation: shake 0.4s ease;
        }

        @keyframes shake {

            0%,
            100% {
                transform: translateX(0);
            }

            10%,
            30%,
            50%,
            70%,
            90% {
                transform: translateX(-5px);
            }

            20%,
            40%,
            60%,
            80% {
                transform: translateX(5px);
            }
        }

        /* Reduced Motion Support */
        @media (prefers-reduced-motion: reduce) {
            .settings-menu {
                animation: none;
            }

            .settings-menu-item:hover {
                transform: none;
            }

            .success-message {
                animation: none;
            }

            .validation-feedback.shake {
                animation: none;
            }

            button:hover {
                transform: none;
            }
        }

        .status {
            margin-top: 15px;
            padding: 10px;
            background: var(--bg-card);
            border-radius: 6px;
            font-size: 14px;
            color: var(--text-secondary);
        }

        .icon {
            display: inline-block;
            width: 20px;
            height: 20px;
        }
    </style>
</head>

<body>
    <div class="container">
        <h1>üé® Settings Menu Animation Visual Test</h1>

        <div class="controls">
            <button onclick="toggleTheme()">Toggle Theme</button>
            <button onclick="toggleReducedMotion()">Toggle Reduced Motion</button>
        </div>

        <!-- Test 1: Menu Slide-Down Animation -->
        <div class="test-section">
            <h2>1. Menu Slide-Down & Fade-In Animation (0.3s ease-out)</h2>
            <p style="margin-bottom: 15px; color: var(--text-secondary);">
                Click the button to see the menu slide down and fade in.
            </p>
            <div class="menu-container">
                <button onclick="toggleMenu()">Open Settings Menu</button>
                <div id="testMenu" class="settings-menu">
                    <div class="settings-menu-header">
                        <h3>Settings</h3>
                    </div>
                    <div class="settings-menu-content">
                        <div class="settings-menu-item">
                            <span class="icon">‚öôÔ∏è</span>
                            <span>General Settings</span>
                        </div>
                        <div class="settings-menu-item">
                            <span class="icon">üîí</span>
                            <span>Privacy</span>
                        </div>
                        <div class="settings-menu-item">
                            <span class="icon">üîî</span>
                            <span>Notifications</span>
                        </div>
                    </div>
                </div>
            </div>
            <div class="status">Status: Menu will slide down from above with fade-in effect</div>
        </div>

        <!-- Test 2: Menu Item Hover Scale -->
        <div class="test-section">
            <h2>2. Menu Item Hover Scale Effect (0.2s ease)</h2>
            <p style="margin-bottom: 15px; color: var(--text-secondary);">
                Hover over the menu items to see them scale up slightly.
            </p>
            <div
                style="background: var(--bg-card); padding: 20px; border-radius: 8px; border: 1px solid var(--border-primary);">
                <div class="settings-menu-item">
                    <span class="icon">üë§</span>
                    <span>Profile Settings</span>
                </div>
                <div class="settings-menu-item">
                    <span class="icon">üîê</span>
                    <span>Change Password</span>
                </div>
                <div class="settings-menu-item">
                    <span class="icon">üåô</span>
                    <span>Appearance</span>
                </div>
            </div>
            <div class="status">Status: Items should scale to 1.02x on hover</div>
        </div>

        <!-- Test 3: Success Message Animation -->
        <div class="test-section">
            <h2>3. Success Message Animation (fade in, auto-dismiss after 3s)</h2>
            <p style="margin-bottom: 15px; color: var(--text-secondary);">
                Click the button to show a success message that auto-dismisses after 3 seconds.
            </p>
            <button onclick="showSuccessMessage()">Show Success Message</button>
            <div id="successMessage" class="success-message">
                <span>‚úì</span>
                <span>Password changed successfully!</span>
            </div>
            <div class="status" id="successStatus">Status: Click button to test</div>
        </div>

        <!-- Test 4: Validation Error Shake -->
        <div class="test-section">
            <h2>4. Validation Error Shake Animation (0.4s)</h2>
            <p style="margin-bottom: 15px; color: var(--text-secondary);">
                Click the button to trigger the shake animation on validation errors.
            </p>
            <button onclick="triggerShake()">Trigger Shake Animation</button>
            <div style="margin-top: 15px;">
                <div id="validationError" class="validation-feedback">
                    <span>‚úó</span>
                    <span>Passwords do not match</span>
                </div>
            </div>
            <div class="status">Status: Error message should shake horizontally</div>
        </div>

        <!-- Test 5: Reduced Motion Check -->
        <div class="test-section">
            <h2>5. Reduced Motion Support</h2>
            <p style="margin-bottom: 15px; color: var(--text-secondary);">
                Current reduced motion preference: <strong id="motionStatus">Normal</strong>
            </p>
            <p style="color: var(--text-secondary); font-size: 14px;">
                When reduced motion is enabled, all animations should be disabled or significantly reduced.
                Use the "Toggle Reduced Motion" button above to simulate this preference.
            </p>
            <div class="status">Status: Check if animations respect the preference</div>
        </div>
    </div>

    <script>
        let menuOpen = false;
        let reducedMotion = false;

        function toggleTheme() {
            const html = document.documentElement;
            const currentTheme = html.getAttribute('data-theme');
            html.setAttribute('data-theme', currentTheme === 'light' ? '' : 'light');
        }

        function toggleMenu() {
            const menu = document.getElementById('testMenu');
            menuOpen = !menuOpen;
            if (menuOpen) {
                menu.classList.add('show');
                // Force reflow to restart animation
                menu.style.animation = 'none';
                setTimeout(() => {
                    menu.style.animation = '';
                }, 10);
            } else {
                menu.classList.remove('show');
            }
        }

        function showSuccessMessage() {
            const message = document.getElementById('successMessage');
            const status = document.getElementById('successStatus');

            message.classList.add('show');
            // Force reflow to restart animation
            message.style.animation = 'none';
            setTimeout(() => {
                message.style.animation = '';
            }, 10);

            status.textContent = 'Status: Message will auto-dismiss in 3 seconds...';

            setTimeout(() => {
                message.classList.remove('show');
                status.textContent = 'Status: Message dismissed!';
            }, 3000);
        }

        function triggerShake() {
            const error = document.getElementById('validationError');
            error.classList.remove('shake');
            // Force reflow
            void error.offsetWidth;
            error.classList.add('shake');

            setTimeout(() => {
                error.classList.remove('shake');
            }, 400);
        }

        function toggleReducedMotion() {
            reducedMotion = !reducedMotion;
            const html = document.documentElement;
            const status = document.getElementById('motionStatus');

            if (reducedMotion) {
                html.style.setProperty('--animation-duration', '0.01s');
                status.textContent = 'Reduced Motion (Simulated)';
                // Add a style tag to simulate prefers-reduced-motion
                const style = document.createElement('style');
                style.id = 'reduced-motion-style';
                style.textContent = `
                    * {
                        animation-duration: 0.01s !important;
                        transition-duration: 0.01s !important;
                    }
                    .settings-menu-item:hover {
                        transform: none !important;
                    }
                `;
                document.head.appendChild(style);
            } else {
                html.style.removeProperty('--animation-duration');
                status.textContent = 'Normal';
                const style = document.getElementById('reduced-motion-style');
                if (style) {
                    style.remove();
                }
            }
        }

        // Check actual prefers-reduced-motion on load
        window.addEventListener('load', () => {
            const prefersReducedMotion = window.matchMedia('(prefers-reduced-motion: reduce)').matches;
            const status = document.getElementById('motionStatus');
            if (prefersReducedMotion) {
                status.textContent = 'Reduced Motion (System Preference)';
                status.style.color = '#22c55e';
            }
        });
    </script>
</body>

</html>